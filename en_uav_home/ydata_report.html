<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- TemplateBeginEditable name="doctitle" -->
<title>无标题文档</title>
<!-- TemplateEndEditable -->
<!-- TemplateBeginEditable name="head" -->
<!-- TemplateEndEditable -->
<style>
        /*  在此处填写叠层样式  */
        body, html{
            height: 100%;
            width: 100%;
            margin: 0; padding: 0;
        }
        table {
            height: 80%;
            width: 35%;         /*  必须设置一个宽度， margin: 0 auto才能使之居于父组件中央*/
            margin: 5px auto;  /*  通过设置外边距（margin）中的左右外边距属性为auto使之居于父组件（body）中间*/
        }
            table tr{
                height: 60px;
                width: 100%;
            }
            table>tr>th{
                height: 100%;
                width:100%;
            }
</style>
</head>

<body>
<div style="text-align:center">
<table id="ta" border="1 px">
<tr align="center"> <th colspan ="3"><font size="6" color="black">分析报告</th></tr>
<tr><th>时间</th><th>内容</th><th>备注</th></tr>
<tr><th>时间</th><th><input id="ctime" name="" type="text" width="100%"/></th><th><input id="btime" name="" type="text" width="100%"/></th></tr>
<tr><th>负责人</th><th><input id="ccharger" name="" type="text"/></th><th><input id="bcharger" name="" type="text" width="100%"/></th></tr>
<tr><th>操作员</th><th><input id="coperator" name="" type="text"/></th><th><input id="boperator" name="" type="text" width="100%"/></th></tr>
<tr><th>温度描述</th><th>
<select>
  <option value ="1ow1">极高（与真实数据相比）</option>
  <option value ="low2">偏高（与真实数据相比）</option>
  <option value="moderate">准确（与真实数据相比）</option>
  <option value="high1">偏低（与真实数据相比）</option>
  <option value="high2">极低（与真实数据相比）</option>
</select>
</th><th><input name="" type="text" width="100%"/></th></tr>
<tr><th>湿度描述</th><th>
<select>
  <option value ="1ow1">极高（与真实数据相比）</option>
  <option value ="low2">偏高（与真实数据相比）</option>
  <option value="moderate">准确（与真实数据相比）</option>
  <option value="high1">偏低（与真实数据相比）</option>
  <option value="high2">极低（与真实数据相比）</option>
</select>
</th><th><input name="" type="text" width="100%"/></th></tr>
<tr><th>Pm25描述</th><th>
<select>
  <option value ="1ow1">极高（与真实数据相比）</option>
  <option value ="low2">偏高（与真实数据相比）</option>
  <option value="moderate">准确（与真实数据相比）</option>
  <option value="high1">偏低（与真实数据相比）</option>
  <option value="high2">极低（与真实数据相比）</option>
</select>
</th><th><input name="" type="text" width="100%"/></th></tr>
<tr><th>巡航路线描述</th><th><select>
  <option value ="1ow1">未偏离</option>
  <option value ="low2">部分偏离</option>
  <option value="moderate">严重偏离</option>
</select></th><th><input name="" type="text" width="100%"/></th></tr>
<tr height="120px"><th height="120px">其他(不超过105个字符)</th><td height="120px" colspan ="2"><textarea  id="cother" rows="5" cols="45" height: 100% width:100% name="" type="text"></textarea>
</td></tr>
</table>
<p>
  <input type="button" value="确认" style="height=20px;width=100px;" onclick="confirm()"/>
  <input type="button" value="启用编辑" style="height=20px;width=100px;" onclick="reedit()"/>
  <input type="button" value="重置" style="height=20px;width=100px;" onclick="reset()"/>
  <input type="button" value="打印" style="height=20px;width=100px;" onclick="doPrint()"/>
  <input type="button" value="导出pdf" style="height=20px;width=100px;" onclick="exportpdf()"/>

</p>
</div>
</body>
</html>

<script src="js/jspdf.debug.js"></script>
<script src="js/html2canvas.js"></script>
<script text="javascript">
function confirm()
{
  var ctime=document.getElementById("ctime");
  ctime.style.border="none";
  ctime.readOnly=true;
  var btime=document.getElementById("btime");
  btime.style.border="none";
  btime.readOnly=true;

  var ccharger=document.getElementById("ccharger");
  ccharger.style.border="none";
  ccharger.readOnly=true;
  var bcharger=document.getElementById("bcharger");
  bcharger.style.border="none";
  bcharger.readOnly=true;

  var coperator=document.getElementById("coperator");
  coperator.style.border="none";
  coperator.readOnly=true;
  var boperator=document.getElementById("boperator");
  boperator.style.border="none";
  boperator.readOnly=true;

  var cother=document.getElementById("cother");
  cother.style.border="none";
  cother.readOnly=true;
  var bother=document.getElementById("bother");
  bother.style.border="none";
  bother.readOnly=true;
}

function reedit()
{
  var ctime=document.getElementById("ctime");
  ctime.style.border="1px solid #000";
  ctime.readOnly=false;
  var btime=document.getElementById("btime");
  btime.style.border="1px solid #000";
  btime.readOnly=false;

  var ccharger=document.getElementById("ccharger");
  ccharger.style.border="1px solid #000";
  ccharger.readOnly=false;
  var bcharger=document.getElementById("bcharger");
  bcharger.style.border="1px solid #000";
  bcharger.readOnly=false;

  var coperator=document.getElementById("coperator");
  coperator.style.border="1px solid #000";
  coperator.readOnly=false;
  var boperator=document.getElementById("boperator");
  boperator.style.border="1px solid #000";
  boperator.readOnly=false;

  var cother=document.getElementById("cother");
  cother.style.border="1px solid #000";
  cother.readOnly=false;
  var bother=document.getElementById("bother");
  bother.style.border="1px solid #000";
  bother.readOnly=false;
}

function reset()
{
  var ctime=document.getElementById("ctime");
  //ctime.style.border="1px solid #000";
  ctime.readOnly=false;
  ctime.value="";
  var btime=document.getElementById("btime");
  //btime.style.border="1px solid #000";
  btime.readOnly=false;
  btime.value="";

  var ccharger=document.getElementById("ccharger");
  //ccharger.style.border="1px solid #000";
  ccharger.readOnly=false;
  ccharger.value="";
  var bcharger=document.getElementById("bcharger");
  //bcharger.style.border="1px solid #000";
  bcharger.readOnly=false;
  bcharger.value="";

  var coperator=document.getElementById("coperator");
  //coperator.style.border="1px solid #000";
  coperator.readOnly=false;
  coperator.value="";
  var boperator=document.getElementById("boperator");
  //boperator.style.border="1px solid #000";
  boperator.readOnly=false;
  boperator.value="";

  var cother=document.getElementById("cother");
  //cother.style.border="1px solid #000";
  cother.readOnly=false;
  cother.value="";
  var bother=document.getElementById("bother");
  //bother.style.border="1px solid #000";
  bother.readOnly=false;
  bother.value="";
}


function doPrint() {
    window.print();
}

function exportpdf(){
alert(0);
    html2canvas(document.getElementById("ta"), {
        onrendered: function(canvas) {

            //通过html2canvas将html渲染成canvas，然后获取图片数据
            var imgData = canvas.toDataURL('image/jpeg');

            //初始化pdf，设置相应格式
            var doc = new jsPDF("p", "mm", "a4");

            //这里设置的是a4纸张尺寸
            doc.addImage(imgData, 'JPEG', 0, 0,210,297);

            //输出保存命名为content的pdf
            doc.save('content.pdf');
        }
    });
}
</script>
